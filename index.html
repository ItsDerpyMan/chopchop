<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8">
    <title>game</title>
  </head>
  <body>
    <h1>WebSocket Chat</h1>
    <input type="text" id="messageInput" placeholder="Type a message">
    <button onclick="sendMessage()">Send</button>
    <ul id="messages"></ul>

    <script>
      // Connect to the WebSocket server
      const ws = new WebSocket("ws://localhost:8000");

      // Handle connection open
      ws.onopen = () => {
        console.log("Connected to server!");
        addMessage("Connected to server!");
      };

      // Handle incoming messages
      ws.onmessage = (event) => {
        console.log("Received:", event.data);
        addMessage(event.data);
      };

      // Handle connection close
      ws.onclose = () => {
        console.log("Disconnected from server.");
        addMessage("Disconnected from server.");
      };

      // Handle errors
      ws.onerror = (error) => {
        console.error("WebSocket error:", error);
        addMessage("Error occurred.");
      };

      // Function to send messages
      function sendMessage() {
        const input = document.getElementById("messageInput");
        const message = input.value;
        if (message && ws.readyState === WebSocket.OPEN) {
          ws.send(message);
          addMessage(`Sent: ${message}`);
          input.value = "";
        }
      }

      // Function to display messages
      function addMessage(message) {
        const messages = document.getElementById("messages");
        const li = document.createElement("li");
        li.textContent = message;
        messages.appendChild(li);
      }
    </script>
  </body>
</html>
